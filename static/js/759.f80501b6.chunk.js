"use strict";(self.webpackChunkgamers_republic=self.webpackChunkgamers_republic||[]).push([[759],{7160:function(e,t,n){var r=n(1413),i=n(5987),o=n(356),a=n(184),c=["onChange"];t.Z=function(e){var t=e.onChange,n=(0,i.Z)(e,c);function s(e){console.log(e);var r=e.target.value.split("").reduce((function(e,t,n){return e=!(n>4)&&(2===n&&":"!==t?e+":"+t:e+t)}),"");t("string"===typeof r?r:n.value)}return(0,a.jsx)(o.Z,(0,r.Z)((0,r.Z)({label:"set timer",variant:"filled"},n),{},{onChange:function(e){return s(e)}}))}},3480:function(e,t,n){var r=n(9439),i=n(2791),o=n(9276),a=n(2017),c=n(5629),s=n(1091),u=n(6132),l=n(4346),d=n(4565),f=n(9978),h=n(6761),v=n(184);t.Z=function(e){var t=e.menuTree,n=(0,i.useState)(t.children),m=(0,r.Z)(n,2),p=m[0],Z=m[1],x=(0,i.useMemo)((function(){return(0,h.UT)(t,(function(e,t){}))}),[p]);function g(e){e.children?Z(e.children):e.node.action&&(console.log("action"),e.node.action())}return(0,v.jsx)(o.Z,{children:(0,v.jsxs)(c.Z,{sx:{backdropFilter:"blur(5px)",width:"100%",height:"150%",background:"rgba(0, 0, 0, .5)",position:"absolute",gap:"30px",bottom:"100px",color:"white",margin:"auto auto",flexDirection:"column",alignItems:"center",display:"flex",justifyContent:"center",top:0,left:0,right:0},children:[(0,v.jsx)(s.Z,{variant:"contained",sx:{zIndex:2e3,position:"fixed",left:"4%",top:"28%",backgroundColor:"#ff4655",width:"150px",height:"66px"},onClick:function(){var e=p[0].node.id.replace(/-\d+-\d+$/,""),t=(0,h.Qt)({treeNode:x,id:e,nodePath:"node/id"});t&&t.children.length&&e!==p[0]&&Z(t.children)},children:(0,v.jsx)(a.Z,{})}),p.map((function(e){return e.node.control?(0,v.jsxs)(u.ZP,{sx:{display:"flex",flexDirection:"column",background:"transparent",width:"90%",height:"max-content",overflowY:"hidden",overflowX:"hidden",border:"none",position:"relative","&:after":{content:'""',position:"absolute",width:"1158%",height:"1000%",top:"20px; right: -500%",background:"#F8F8F8",color:"",transformOrigin:"48.3% 0",transform:"rotate(-41deg)",zIndex:-1},"&:hover":{animation:"gameMenu 2s"}},component:"button",onClick:function(){return g(e)},children:[(0,v.jsx)(l.Z,{primary:(0,v.jsx)(d.Z,{variant:"h4",children:e.node.text})}),e.node.control]},e.node.id):(0,v.jsxs)(f.Z,{sx:{display:"flex",flexDirection:"column",flexGrow:"0"},component:"button",onClick:function(){return g(e)},children:[(0,v.jsx)(l.Z,{primary:(0,v.jsx)(d.Z,{variant:"h4",children:e.node.text})}),(0,v.jsx)(o.Z,{children:e.node.control})]},e.node.id)}))]})})}},9735:function(e,t,n){var r=n(9439),i=n(2791),o=n(228),a=n(4162),c=n(8473),s=n(184);t.Z=function(){var e=i.useState(30),t=(0,r.Z)(e,2);return t[0],t[1],(0,s.jsxs)(o.Z,{sx:{width:200},children:[(0,s.jsx)(a.Z,{spacing:2,direction:"row",sx:{mb:1},alignItems:"center"}),(0,s.jsx)(c.ZP,{disabled:!0,defaultValue:30,"aria-label":"Disabled slider"})]})}},1672:function(e,t,n){n.r(t),n.d(t,{default:function(){return De}});var r=n(1413),i=n(9439),o=n(2791),a=n.p+"static/media/Tic.a0ebe1c478315a757679.png",c=n.p+"static/media/Tac.3ed63fe138ed0dc32c42.png",s=n(228),u=n(6379),l=n(1091),d=n(5967),f=n(8008),h=n(5011),v=n(4565),m=n(4093),p=function(e){return(0,m.ZP)({default:{icon:{height:"30px",width:"30px",marginLeft:"10px"},field:{height:"100%",margin:"auto auto",display:"flex",flexDirection:"column",justifyContent:"center"},row:{display:"flex",justifyContent:"center"},col:{border:"2px solid black",width:"150px",height:"150px",alignContent:"center",background:"white",display:"flex",justifyContent:"center"},game_count:{display:"flex",flexDirection:"row",justifyContent:"spaceBetween",alignItems:"center",gap:"5px"}}})},Z=n(184);var x,g,k,S=function(e){var t=e.iconsDict,n=e.countWin,r=n.me,i=n.rival,o=((0,h.u)(),p());return(0,Z.jsxs)(Z.Fragment,{children:[(0,Z.jsx)("img",{style:o.icon,src:t[r.key].value}),": ",(0,Z.jsx)(v.Z,{variant:"h4",children:n.me.countWin}),(0,Z.jsx)(v.Z,{variant:"h4",children:"-VS-"}),(0,Z.jsx)("img",{style:o.icon,src:t[i.key].value}),": ",(0,Z.jsx)(v.Z,{variant:"h4",children:n.rival.countWin})]})};function y(e){return e===x.X?x.O:x.X}function j(e,t,n){var r=[],i=[],o=[],a=[],c="A",s=0,l=0,d=2,f=0,h=!0,v=n?3:2;(0,u.pY)(e,(function(n,u){var m,p={col:n,row:u};if(0===+u&&i.length!==v&&"A"!==n&&(m=String.fromCharCode(c.charCodeAt(0)+1),{col:["A","B","C"],row:[1,2,3]}[k.Col].some((function(e){return e===m})))&&(i=[],c=String.fromCharCode(c.charCodeAt(0)+1)),n===c&&t===e[n][u].key&&i.push(p),+u===s&&r.length!==v){r=[];for(var Z=0;Z<=2;Z++){var x=65+Z,g={col:String.fromCharCode(x),row:u};e[g.col][g.row].key===t&&r.push(g)}s++}return l===+u&&n===String.fromCharCode(l+65)&&t===e[n][u].key&&(o.push(p),l++),d===+u&&n===String.fromCharCode(f+65)&&t===e[n][u].key&&(a.push(p),d--,f++),e[n][u].key||(h=!1),e[n][u]}));var m={vertical:r,horisontal:i,diagonalLeft:o,diagonalRight:a};function p(){return Object.values(m).some((function(e){return 3===e.length}))}return{showResult:function(){return p()?p():h?"draw":void 0},showCoordinates:function(){return m}}}!function(e){e.X="X",e.O="O"}(x||(x={})),function(e){e.Pc="pc",e.Koop="koop",e.Online="online"}(g||(g={})),function(e){e.Col="col",e.Row="row"}(k||(k={}));var w=function(e){var t,n=e.text,r=e.isResult,i=e.turnState,o=e.iconsDict,a=((0,h.u)(),p());return r&&(t=y(i)),(0,Z.jsxs)(v.Z,{variant:"h6",children:[n,": ","",(0,Z.jsx)("img",{style:a.icon,src:t?o[t].value:o[i].value,alt:t?o[t].value:o[i].key})]})};var C=function(e){var t=e.countWin,n=e.iconsDict,r=e.turnState,i=e.setPause,o=((0,h.u)(),p());return(0,Z.jsxs)(d.Z,{justifyContent:"right",width:"100%",children:[(0,Z.jsx)(s.Z,{sx:o.game_count,children:(0,Z.jsx)(S,{iconsDict:n,countWin:t})}),(0,Z.jsx)(s.Z,{children:(0,Z.jsx)(w,{text:"Now turn is",isResult:!1,turnState:r,iconsDict:n})}),(0,Z.jsx)(l.Z,{onClick:function(){i(!0)},children:(0,Z.jsx)(f.Z,{})})]})},b=n(7689),O=n(8497),P=n(8243),D=n(9877),F=n(3426),T=n(5629),z=n(6132),I=n(4942),M=n(3366),W=n(7462),R=n(8182),A=n(4419),G=n(2065),V=n(7278),H=n(233),N=(0,H.Z)((0,Z.jsx)("path",{d:"M19 5v14H5V5h14m0-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z"}),"CheckBoxOutlineBlank"),E=(0,H.Z)((0,Z.jsx)("path",{d:"M19 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.11 0 2-.9 2-2V5c0-1.1-.89-2-2-2zm-9 14l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"}),"CheckBox"),J=(0,H.Z)((0,Z.jsx)("path",{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-2 10H7v-2h10v2z"}),"IndeterminateCheckBox"),Y=n(9853),L=n(5513),X=n(277),B=n(5878),_=n(1217);function K(e){return(0,_.Z)("MuiCheckbox",e)}var q=(0,B.Z)("MuiCheckbox",["root","checked","disabled","indeterminate","colorPrimary","colorSecondary"]),Q=["checkedIcon","color","icon","indeterminate","indeterminateIcon","inputProps","size","className"],U=(0,X.ZP)(V.Z,{shouldForwardProp:function(e){return(0,X.FO)(e)||"classes"===e},name:"MuiCheckbox",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,n.indeterminate&&t.indeterminate,"default"!==n.color&&t["color".concat((0,Y.Z)(n.color))]]}})((function(e){var t,n=e.theme,r=e.ownerState;return(0,W.Z)({color:(n.vars||n).palette.text.secondary},!r.disableRipple&&{"&:hover":{backgroundColor:n.vars?"rgba(".concat("default"===r.color?n.vars.palette.action.activeChannel:n.vars.palette.primary.mainChannel," / ").concat(n.vars.palette.action.hoverOpacity,")"):(0,G.Fq)("default"===r.color?n.palette.action.active:n.palette[r.color].main,n.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},"default"!==r.color&&(t={},(0,I.Z)(t,"&.".concat(q.checked,", &.").concat(q.indeterminate),{color:(n.vars||n).palette[r.color].main}),(0,I.Z)(t,"&.".concat(q.disabled),{color:(n.vars||n).palette.action.disabled}),t))})),$=(0,Z.jsx)(E,{}),ee=(0,Z.jsx)(N,{}),te=(0,Z.jsx)(J,{}),ne=o.forwardRef((function(e,t){var n,r,i=(0,L.Z)({props:e,name:"MuiCheckbox"}),a=i.checkedIcon,c=void 0===a?$:a,s=i.color,u=void 0===s?"primary":s,l=i.icon,d=void 0===l?ee:l,f=i.indeterminate,h=void 0!==f&&f,v=i.indeterminateIcon,m=void 0===v?te:v,p=i.inputProps,x=i.size,g=void 0===x?"medium":x,k=i.className,S=(0,M.Z)(i,Q),y=h?m:d,j=h?m:c,w=(0,W.Z)({},i,{color:u,indeterminate:h,size:g}),C=function(e){var t=e.classes,n=e.indeterminate,r=e.color,i={root:["root",n&&"indeterminate","color".concat((0,Y.Z)(r))]},o=(0,A.Z)(i,K,t);return(0,W.Z)({},t,o)}(w);return(0,Z.jsx)(U,(0,W.Z)({type:"checkbox",inputProps:(0,W.Z)({"data-indeterminate":h},p),icon:o.cloneElement(y,{fontSize:null!=(n=y.props.fontSize)?n:g}),checkedIcon:o.cloneElement(j,{fontSize:null!=(r=j.props.fontSize)?r:g}),ownerState:w,ref:t,className:(0,R.Z)(C.root,k)},S,{classes:C}))})),re=n(9978),ie=n(8826);function oe(e){return(0,_.Z)("MuiListItemAvatar",e)}(0,B.Z)("MuiListItemAvatar",["root","alignItemsFlexStart"]);var ae=["className"],ce=(0,X.ZP)("div",{name:"MuiListItemAvatar",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,"flex-start"===n.alignItems&&t.alignItemsFlexStart]}})((function(e){var t=e.ownerState;return(0,W.Z)({minWidth:56,flexShrink:0},"flex-start"===t.alignItems&&{marginTop:8})})),se=o.forwardRef((function(e,t){var n=(0,L.Z)({props:e,name:"MuiListItemAvatar"}),r=n.className,i=(0,M.Z)(n,ae),a=o.useContext(ie.Z),c=(0,W.Z)({},n,{alignItems:a.alignItems}),s=function(e){var t=e.alignItems,n=e.classes,r={root:["root","flex-start"===t&&"alignItemsFlexStart"]};return(0,A.Z)(r,oe,n)}(c);return(0,Z.jsx)(ce,(0,W.Z)({className:(0,R.Z)(s.root,r),ownerState:c,ref:t},i))})),ue=n(4346);var le=function(e){var t=e.gameParams,n=e.setGameParams,a=(0,o.useMemo)((function(){return t.gameWith.find((function(e){return e.checked}))}),[]),c=(0,o.useState)(a.key),s=(0,i.Z)(c,2),u=s[0],l=s[1];function d(e){l(e.key)}return(0,o.useEffect)((function(){n((function(e){var t=e.gameWith.map((function(e){return(0,r.Z)((0,r.Z)({},e),{},{checked:e.key===u})}));return(0,r.Z)((0,r.Z)({},e),{},{gameWith:t})}))}),[u]),(0,Z.jsx)(Z.Fragment,{children:(0,Z.jsx)(T.Z,{dense:!0,sx:{width:"100%"},children:t.gameWith.map((function(e,t){var n=e.value;return(0,Z.jsx)(z.ZP,{onClick:function(){return d(e)},secondaryAction:(0,Z.jsx)(ne,{edge:"end",checked:e.key===u,onClick:function(){return d(e)},inputProps:{"aria-labelledby":t}}),disablePadding:!0,children:(0,Z.jsxs)(re.Z,{children:[(0,Z.jsx)(se,{children:(0,Z.jsx)(n,{})}),(0,Z.jsx)(ue.Z,{id:t,primary:e.key})]})},e.key)}))})})},de=n(9735),fe=n(804),he=n(1573),ve=n(7160);var me=function(e){var t=e.gameParams,n=e.setGameParams,a=(0,o.useState)("00:00"),c=(0,i.Z)(a,2),u=c[0],l=c[1],d=(0,o.useState)(t.timer.isOn),f=(0,i.Z)(d,2),h=f[0],m=f[1];return(0,o.useEffect)((function(){var e,t,i=u.match((0,fe.Z)(/(^\d+):(\d+)/,{minutes:1,seconds:2}));if(null!==i&&void 0!==i&&null!==(e=i.groups)&&void 0!==e&&e.minutes&&null!==i&&void 0!==i&&null!==(t=i.groups)&&void 0!==t&&t.seconds){var o=6e4*+i.groups.minutes+1e3*+i.groups.seconds;n((function(e){return(0,r.Z)((0,r.Z)({},e),{},{timer:(0,r.Z)((0,r.Z)({},e.timer),{},{tick:o})})}))}}),[u]),(0,o.useEffect)((function(){n((function(e){return(0,r.Z)((0,r.Z)({},e),{},{timer:(0,r.Z)((0,r.Z)({},e.timer),{},{isOn:h})})}))}),[h]),(0,Z.jsxs)(s.Z,{sx:{display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"column"},children:[(0,Z.jsxs)(s.Z,{children:[(0,Z.jsx)(v.Z,{children:"Timer On:"}),(0,Z.jsx)(he.Z,{onChange:function(){return m((function(e){return!e}))},checked:h})]}),(0,Z.jsx)(s.Z,{children:h?(0,Z.jsx)(s.Z,{children:(0,Z.jsx)(ve.Z,{value:u,onChange:function(e){return l(e)}})}):null})]})};function pe(e){var t=e.navigate,n=e.setStartGame,r=e.gameParams,i=e.setGameParams,o=e.pause,a=e.setPause;return{node:{virtual:!0},children:[{node:o?{text:"Resume",action:function(){a((function(e){return!e}))}}:{text:"Start Game",action:function(){n((function(e){return!e}))}}},{node:{text:"Options"},children:[{node:{text:"Mode",control:(0,Z.jsx)(le,{gameParams:r,setGameParams:i})}},{node:{text:"Timer",control:(0,Z.jsx)(me,{gameParams:r,setGameParams:i})}},{node:{text:"SountSettings",control:(0,Z.jsx)(de.Z,{})}}]},{node:{text:"Out",action:function(){t("/games")}},children:""}]}}var Ze=n(3480),xe=n(6149);var ge=function(e){var t=e.dialogOpen,n=e.setDialogOpen,r=e.turnState,i=e.setTurnState,o=e.setFieldState,a=e.setDraw,c=e.fild,l=e.iconsDict,d=e.draw,f=e.countWin,h=(0,b.s0)();return(0,Z.jsx)(xe.Z,{dialogActions:[{text:"startNewGame",onClick:function(){var e=y(r);i(e),console.log((0,u.GD)(c)),o(c),n(!1),a(!1)}},{text:"Out",onClick:function(){o(c),a(!1),n(!1),h("/games")}}],open:t,setOpen:n,title:"the game was over",children:(0,Z.jsxs)(s.Z,{children:[(0,Z.jsx)(v.Z,{variant:"h5",children:d?"The match ended in a draw":(0,Z.jsx)(w,{text:"At these match was win is",isResult:!0,turnState:r,iconsDict:l})}),(0,Z.jsx)(v.Z,{variant:"h6",children:(0,Z.jsx)(S,{iconsDict:l,countWin:f})})]})})},ke=n(781),Se=n(4165),ye=n(5861),je=n(5671),we=n(3144),Ce=n(8418),be=function(){function e(t,n,r){(0,je.Z)(this,e),this.side=void 0,this.fieldState=void 0,this.stepCount=0,this.iconsDict=void 0,this.winCenter=!1,this.think=!1,this.warnings=[],this.opositeSide=void 0,this.fieldCorners=void 0,this.side=t,this.fieldState=n,this.iconsDict=r,this.opositeSide=y(t),this.fieldCorners=this.calculateCorners(n)}return(0,we.Z)(e,[{key:"calculateCorners",value:function(e){var t=[],n=["A",Object.keys(e).reverse()[0],0,+Object.keys(Object.values(e)[0]).reverse()[0]];return(0,u.JY)(e,(function(e,r){var i={col:e,row:r},o=n.filter((function(t){return e===t||+r===+t}));2===o.length&&t.push(i)})),console.log(t),t}},{key:"checkFill",value:function(e){var t=this;return Object.keys(e).reduce((function(n,i){if(2===e[i].length){var o=e[i][0],a=o.col,c=o.row;t["check".concat(i)](a,c)&&(n[i]=(0,r.Z)((0,r.Z)({},e[i]),{},{empty:t["check".concat(i)](a,c)}))}return n}),{})}},{key:"checkvertical",value:function(e,t){var n,r=this.fieldState;return(0,u.JY)(this.fieldState,(function(e,i){var o={col:e,row:i};r[e][i].key||+t!==+i||(n=o)})),n}},{key:"checkhorisontal",value:function(e,t){var n,r=this.fieldState;return(0,u.JY)(this.fieldState,(function(t,i){var o={col:t,row:i};r[t][i].key||e!==t||(n=o)})),n}},{key:"checkdiagonalLeft",value:function(){var e,t=0,n=this.fieldState;return(0,u.JY)(this.fieldState,(function(r,i){var o={col:r,row:i};+i===+t&&r===String.fromCharCode(65+t)&&(n[r][i].key||(e=o),t++)})),e}},{key:"checkdiagonalRight",value:function(){var e,t=0,n=2,r=this.fieldState;return(0,u.JY)(this.fieldState,(function(i,o){var a={col:i,row:o};+o===+n&&i===String.fromCharCode(65+t)&&(r[i][o].key||(e=a),n--,t++)})),e}},{key:"avalibleSteps",value:function(){var e=[],t=this.fieldState,n=j(this.fieldState,y(this.side),!1),r=j(this.fieldState,this.side,!1),i=n.showCoordinates(),o=r.showCoordinates(),a=this.checkFill(i),c=this.checkFill(o);return(0,u.pY)(this.fieldState,(function(n,r){var i={col:n,row:r};return t[n][r].key||e.push(i),t[n][r]})),{canStep:e,dangers:a,opportunities:c}}},{key:"onFirstStep",value:function(){this.fieldState.B[1].key?this.onFirstVariant():(this.fieldState.B[1]=this.render,this.winCenter=!0)}},{key:"onFirstVariant",value:function(){var e=this;if(!this.onDefence()){var t=[{col:"A",row:0},{col:"A",row:2},{col:"C",row:0},{col:"C",row:2}].filter((function(t){return!e.fieldState[t.col][t.row].key}),this),n=t[(0,Ce.yK)(0,t.length-1)];this.fieldState[n.col][n.row]=this.render}}},{key:"rangeSteps",value:function(e){var t=this.fieldCorners;function n(e,t){switch(e){case o:t.friendly++;break;case void 0:t.empty++;break;default:t.rival++}return t}var i=this.fieldState,o=this.side;return e.map((function(e){var o=function(e){var o=e.col,a=e.row,c={friendly:0,empty:0,rival:0,corner:0},s=Object.values(i[o]).reduce((function(e,r,i){var a=n(r.key,e);return t.find((function(e){return e.col===o&&+e.row===i}))&&a.corner++,e}),(0,r.Z)({},c)),l=(0,r.Z)({},c);return(0,u.JY)(i,(function(e,r){if(r===a){var o=i[e][a].key;l=n(o,l),t.find((function(t){return t.col===e&&+t.row===+a}))&&l.corner++}})),[s,l].reduce((function(e,t){return e+[{friendly:2},{empty:1},{corner:.5},{rival:0}].reduce((function(e,n){return e+e+t[Object.keys(n)[0]]+Object.values(n)[0]}),0)}),0)}(e);return(0,r.Z)((0,r.Z)({},e),{},{range:o})})).sort((function(e,t){return t.range-e.range}))[0]}},{key:"onDefence",value:function(){var e=this.avalibleSteps();if(Object.keys(e.opportunities).length){var t=e.opportunities[Object.keys(e.opportunities)[0]].empty;return this.fieldState[t.col][t.row]=this.render,!0}if(Object.keys(e.dangers).length){var n=e.dangers[Object.keys(e.dangers)[0]].empty;return this.fieldState[n.col][n.row]=this.render,!0}if(this.stepCount>1){var r=this.rangeSteps(e.canStep);r&&(this.fieldState[r.col][r.row]=this.render)}}},{key:"render",get:function(){return{key:this.side,value:this.iconsDict[this.side].value}}},{key:"isRival",value:function(e){return e===this.opositeSide}},{key:"pcThink",value:function(){var e=(0,ye.Z)((0,Se.Z)().mark((function e(){var t,n,r=this;return(0,Se.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.think=!0,t=this.fieldState,n=new Promise((function(e){setTimeout((function(){e(t),r.think=!1}),1e3)})),e.abrupt("return",n);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"stepTo",value:function(e){switch(this.fieldState=e,this.stepCount){case 0:this.onFirstStep();break;case 1:this.onFirstVariant();break;default:this.onDefence()}return++this.stepCount,this.warnings=[],this.pcThink()}}]),e}(),Oe=be;var Pe={X:{key:x.X,value:a},O:{key:x.O,value:c}};var De=function(){var e=(0,o.useMemo)((function(){return(0,u.P0)(O._.TicTacToe)}),[]),t=(0,o.useContext)(ke.V),n=(0,i.Z)(t,1)[0],a=((0,h.u)(),(0,b.s0)()),c=p(),l=(0,o.useState)(!1),d=(0,i.Z)(l,2),f=d[0],v=d[1],m=(0,o.useState)(!1),k=(0,i.Z)(m,2),S=k[0],w=k[1],T=(0,o.useState)(e),z=(0,i.Z)(T,2),M=z[0],W=z[1],R=(0,o.useState)(x.X),A=(0,i.Z)(R,2),G=A[0],V=A[1],H=(0,o.useState)(null),N=(0,i.Z)(H,2),E=N[0],J=N[1],Y=(0,o.useState)(!1),L=(0,i.Z)(Y,2),X=L[0],B=L[1],_=(0,o.useState)(null),K=(0,i.Z)(_,2),q=K[0],Q=K[1],U=(0,o.useState)(!1),$=(0,i.Z)(U,2),ee=$[0],te=$[1],ne=(0,o.useState)({me:{key:x.X,countWin:0,data:{username:null===n||void 0===n?void 0:n.username,avatar:null===n||void 0===n?void 0:n.avatar}},rival:{key:x.O,countWin:0,data:{username:"",avatar:""}}}),re=(0,i.Z)(ne,2),ie=re[0],oe=re[1];(0,o.useEffect)((function(){oe((function(e){return(0,r.Z)((0,r.Z)({},e),{},{me:(0,r.Z)((0,r.Z)({},e.me),{},{data:n})})}))}),[n]);var ae=(0,o.useState)({gameWith:[{key:g.Pc,value:D.Z,checked:!0},{key:g.Koop,value:P.Z},{key:g.Online,value:F.Z}],timer:{isOn:!1,tick:0}}),ce=(0,i.Z)(ae,2),se=ce[0],ue=ce[1];function le(e,t){var n={row:e,col:t};switch(E){case g.Koop:!function(e){var t,n=e.turnState,i=e.setTurnState,o=e.setFieldState,a=e.fieldState,c=e.iconsDict,s=e.coords,u=s.col,l=s.row;if(null===(t=a[l][u])||void 0===t||!t.key){var d=(0,r.Z)((0,r.Z)({},a),{},(0,I.Z)({},l,(0,r.Z)((0,r.Z)({},a[l]),{},(0,I.Z)({},u,c[n]))));i(y(n)),o(d)}}({turnState:G,setTurnState:V,setFieldState:W,fieldState:M,iconsDict:Pe,coords:n});break;case g.Pc:!function(e){var t,n=e.setFieldState,i=e.setTurnState,o=e.fieldState,a=e.iconsDict,c=e.coords,s=e.turnState,u=e.pc,l=c.col,d=c.row;if(!u.think&&(null===(t=o[d][l])||void 0===t||!t.key)){var f=(0,r.Z)((0,r.Z)({},o),{},(0,I.Z)({},d,(0,r.Z)((0,r.Z)({},o[d]),{},(0,I.Z)({},l,a[s]))));n(f),i(y(s)),u.stepTo(JSON.parse(JSON.stringify(f))).then((function(e){n((0,r.Z)({},e)),i(s)}))}}({setFieldState:W,setTurnState:V,fieldState:M,iconsDict:Pe,coords:n,turnState:G,pc:q});break;case g.Online:console.log("rival steps")}}return(0,o.useEffect)((function(){var e=null,t=!1,n=y(G),i=j(M,n,!0).showResult();if("draw"===i?(t=!0,w(!0),v(!0)):i&&(t=!0,e=Object.keys(ie).find((function(e){return ie[e].key==n})),v(!0)),t){var o=0;oe((function(t){if(o>0)return t;var n,i=Object.keys(t);return n=t[i[0]].key,t[i[0]].key=t[i[1]].key,t[i[1]].key=n,e&&t[e].countWin++,o++,(0,r.Z)({},t)}))}}),[G]),(0,o.useEffect)((function(){var e=se.gameWith.find((function(e){return e.checked}));J(e.key)}),[se.gameWith]),(0,o.useEffect)((function(){switch(E){case g.Pc:!function(e){var t=e.dialogOpen,n=e.activeMode,i=e.startGame,o=e.turnState,a=e.setFieldState,c=e.fieldState,s=e.iconsDict,u=e.setPc,l=e.setCountWin;if(i&&n===g.Pc&&!1===t){var d=new Oe(y(o),c,s);u(d),l((function(e){return(0,r.Z)((0,r.Z)({},e),{},{rival:(0,r.Z)((0,r.Z)({},e.rival),{},{data:{username:"PC",avatar:D.Z}})})})),y(o)===x.X&&d.stepTo(JSON.parse(JSON.stringify(c))).then((function(e){return a(e)}))}}({dialogOpen:f,activeMode:E,startGame:ee,turnState:G,setFieldState:W,fieldState:M,iconsDict:Pe,setPc:Q,setCountWin:oe});case g.Online:case g.Koop:}}),[ee,f]),(0,Z.jsxs)(s.Z,{children:[(0,Z.jsx)(C,{setPause:B,countWin:ie,iconsDict:Pe,turnState:G}),ee&&!X?null:(0,Z.jsx)(Ze.Z,{menuTree:pe({navigate:a,setStartGame:te,gameParams:se,setGameParams:ue,pause:X,setPause:B})}),(0,Z.jsx)(s.Z,{sx:c.field,children:(0,u.H9)(M,(function(e){return(0,Z.jsx)(s.Z,{sx:c.row,children:e})}),(function(e,t,n){return(0,Z.jsx)(s.Z,{onClick:function(){return le(t,n)},sx:c.col,children:e.value?(0,Z.jsx)("img",{width:"90%",height:"90%",src:e.value,alt:e.key}):""})}))}),(0,Z.jsx)(ge,{dialogOpen:f,setDialogOpen:v,turnState:G,setTurnState:V,setFieldState:W,setDraw:w,fild:e,iconsDict:Pe,draw:S,countWin:ie})]})}},6379:function(e,t,n){function r(e,t,n){return Object.keys(e).map((function(r,i,o){return t(Object.keys(e[r]).map((function(t,a){return e[r][t],n(e[r][t],r,t,i,o)})),r,i,o,Object.keys(e[r]))}))}function i(e,t){return console.log("child"),Object.keys(e).forEach((function(n){Object.keys(e[n]).forEach((function(r){e[n][r]=t(n,r)}))})),e}function o(e,t){i(e,(function(n,r){return t(n,r),e[n][r]}))}function a(e){for(var t=65,n={chees:{cols:8,rows:8},tictactoe:{cols:3,rows:3}},r="string"===typeof e?n[e]:e,i={},o=0;o<r.cols;o++)i[String.fromCharCode(t)]=new Array(r.rows).fill("").reduce((function(e,t,n){return e[n]={},e}),{}),t++;return i}function c(e){i(e,(function(e){return{}}))}n.d(t,{GD:function(){return c},H9:function(){return r},JY:function(){return o},P0:function(){return a},pY:function(){return i}})},8497:function(e,t,n){var r;n.d(t,{_:function(){return r}}),function(e){e.TicTacToe="tictactoe",e.Chees="chees",e.SeaBattle="seabattle"}(r||(r={}))},3426:function(e,t,n){var r=n(4836);t.Z=void 0;var i=r(n(5649)),o=n(184),a=(0,i.default)([(0,o.jsx)("circle",{cx:"12",cy:"17",r:"4"},"0"),(0,o.jsx)("path",{d:"M12 10.07c1.95 0 3.72.79 5 2.07l5-5C19.44 4.59 15.9 3 12 3S4.56 4.59 2 7.15l5 5c1.28-1.28 3.05-2.08 5-2.08z"},"1")],"CompassCalibration");t.Z=a},9877:function(e,t,n){var r=n(4836);t.Z=void 0;var i=r(n(5649)),o=n(184),a=(0,i.default)((0,o.jsx)("path",{d:"M20 18c1.1 0 1.99-.9 1.99-2L22 6c0-1.1-.9-2-2-2H4c-1.1 0-2 .9-2 2v10c0 1.1.9 2 2 2H0v2h24v-2h-4zM4 6h16v10H4V6z"}),"Computer");t.Z=a},8243:function(e,t,n){var r=n(4836);t.Z=void 0;var i=r(n(5649)),o=n(184),a=(0,i.default)((0,o.jsx)("path",{d:"M16 11c1.66 0 2.99-1.34 2.99-3S17.66 5 16 5c-1.66 0-3 1.34-3 3s1.34 3 3 3zm-8 0c1.66 0 2.99-1.34 2.99-3S9.66 5 8 5C6.34 5 5 6.34 5 8s1.34 3 3 3zm0 2c-2.33 0-7 1.17-7 3.5V19h14v-2.5c0-2.33-4.67-3.5-7-3.5zm8 0c-.29 0-.62.02-.97.05 1.16.84 1.97 1.97 1.97 3.45V19h6v-2.5c0-2.33-4.67-3.5-7-3.5z"}),"Group");t.Z=a},8008:function(e,t,n){var r=n(4836);t.Z=void 0;var i=r(n(5649)),o=n(184),a=(0,i.default)((0,o.jsx)("path",{d:"M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z"}),"Menu");t.Z=a}}]);
//# sourceMappingURL=759.f80501b6.chunk.js.map