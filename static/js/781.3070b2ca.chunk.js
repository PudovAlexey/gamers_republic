"use strict";(self.webpackChunkgamers_republic=self.webpackChunkgamers_republic||[]).push([[781],{7160:function(t,o,e){var r=e(1413),i=e(5987),n=e(356),a=e(184),c=["onChange"];o.Z=function(t){var o=t.onChange,e=(0,i.Z)(t,c);function l(t){console.log(t);var r=t.target.value.split("").reduce((function(t,o,e){return t=!(e>4)&&(2===e&&":"!==o?t+":"+o:t+o)}),"");o("string"===typeof r?r:e.value)}return(0,a.jsx)(n.Z,(0,r.Z)((0,r.Z)({label:"set timer",variant:"filled"},e),{},{onChange:function(t){return l(t)}}))}},9400:function(t,o,e){e.r(o),e.d(o,{default:function(){return Y}});var r=e(4942),i=e(9439),n=e(1413),a=e(2791),c=e(6379),l=e(8497),s=e.p+"static/media/black.1682b8a2d152fd4737c9.png",d=e.p+"static/media/red.01c85ce9a31f33328470.png",u=e(228),f=e(4565),h=e(5671),v=e(3144),p=function(){function t(o,e,r,i){(0,h.Z)(this,t),this.figures={Red:d,Black:s},this.lights=[],this.coords=void 0,this.color=void 0,this.side=void 0,this.fieldState=void 0,this.side=r,this.coords=o,this.color=e,this.fieldState=i}return(0,v.Z)(t,[{key:"columnIntoNextStep",value:function(t,o){var e=t.charCodeAt()+o;return String.fromCharCode(e)}},{key:"getColor",get:function(){return this.color}},{key:"canEat",value:function(t,o){}},{key:"canLight",value:function(t,o){var e;return this.fieldState[t]&&this.fieldState[t][o]&&!(null!==(e=this.fieldState[t][o])&&void 0!==e&&e.key)}},{key:"fromLeftTop",value:function(t,o){var e=this.columnIntoNextStep(t,-this.side||1);return{key:"fromLeftTop",value:this.fieldState[e]&&this.fieldState[e][+o-1],coords:{col:e,row:+o-1},oposite:"fromRightBottom"}}},{key:"fromRightTop",value:function(t,o){var e=this.columnIntoNextStep(t,-this.side||1);return{key:"fromRightTop",value:this.fieldState[e]&&this.fieldState[e][+o+1],coords:{col:e,row:+o+1},oposite:"fromLeftBottom"}}},{key:"fromRightBottom",value:function(t,o){var e=this.columnIntoNextStep(t,+this.side||-1);return{key:"fromRightBottom",value:this.fieldState[e]&&this.fieldState[e][+o+1],coords:{col:e,row:+o+1},oposite:"fromLeftTop"}}},{key:"fromLeftBottom",value:function(t,o){var e=this.columnIntoNextStep(t,+this.side||-1);return{key:"fromLeftBottom",value:this.fieldState[e]&&this.fieldState[e][+o-1],coords:{col:e,row:+o-1},oposite:"fromRightTop"}}},{key:"hasEat",value:function(t,o){var e=this,r=[this.fromLeftTop(t,o),this.fromRightTop(t,o),this.fromRightBottom(t,o),this.fromLeftBottom(t,o)],i=[];return r.filter((function(t){var o,r;return(null===t||void 0===t||null===(o=t.value)||void 0===o?void 0:o.key)&&(null===t||void 0===t||null===(r=t.value)||void 0===r?void 0:r.key)!==e.color}),this).forEach((function(t){var o=e[t.key](t.coords.col,t.coords.row);e.canLight(o.coords.col,o.coords.row)&&(i.push(o),e.fieldState[o.coords.col][o.coords.row].light="red",e.lights.push({col:o.coords.col,row:o.coords.row,eat:t}))}),this),i}},{key:"forEachField",value:function(t){var o=this;Object.keys(this.fieldState).forEach((function(e){Object.keys(o.fieldState[e]).forEach((function(r){t(o.fieldState[e][r],e,r)}))}))}},{key:"lightAvalibleFields",value:function(t){var o=this,e=this.coords,r=e.col,i=e.row;return this.forEachField((function(t){return delete t.light})),this.hasEat(r,i).length||t||[this.fromLeftTop(r,i),this.fromRightTop(r,i)].forEach((function(t){o.canLight(t.coords.col,t.coords.row)&&(o.fieldState[t.coords.col][t.coords.row].light="red",o.lights.push({col:t.coords.col,row:t.coords.row}))}),this),this.fieldState}},{key:"stepTo",value:function(t,o,e){var r=this;if(this.fieldState[t][o].key)return{changeChoice:!0};var i=!1,n=!0;if(this.lights.find((function(e){return e.col===t&&+e.row===+o}))&&this.fieldState[t][o].light){var a=null;this.forEachField((function(t,o,e){[r.fromLeftTop(o,e),r.fromRightTop(o,e),r.fromLeftBottom(o,e),r.fromRightBottom(o,e)].forEach((function(t){var i,n,c,l=null===(i=r[t.oposite](o,e))||void 0===i?void 0:i.value;if(console.log(o,e),"string"===typeof(null===t||void 0===t||null===(n=t.value)||void 0===n?void 0:n.key)&&r.fieldState[o][e].key&&(null===t||void 0===t||null===(c=t.value)||void 0===c?void 0:c.key)!==r.fieldState[o][e].key&&JSON.stringify(r.coords)!==JSON.stringify(r.fieldState[o][e].figure.coords)&&l){var s,d,u=t.coords,f=u.col,h=u.row,v=!(null!==(s=r[t.oposite](o,e))&&void 0!==s&&null!==(d=s.value)&&void 0!==d&&d.key);r[t.oposite](f,h).value&&r[t.oposite](f,h).value.key&&r.fieldState[f][h].key===r.color&&v&&!r.lights.some((function(t){var r;return JSON.stringify((null===t||void 0===t||null===(r=t.eat)||void 0===r?void 0:r.coords)||{})===JSON.stringify({col:o,row:+e})}))&&!a&&(r.fieldState[f][h]={},a={col:o,row:e})}}),r)}));var c=this.coords,l=c.col,s=c.row;this.fieldState[l][s]={};var d=this.render(),u=d.key,f=d.value;this.fieldState[t][o]={figure:e,key:u,value:f};var h=!this.fieldState[this.columnIntoNextStep(t,-this.side)];this.coords={row:o,col:t},h&&(this.fieldState[t][o].updateToQueen=!0),this.lights.forEach((function(e){r.fieldState[e.col]&&r.fieldState[e.col][e.row]&&delete r.fieldState[e.col][e.row].light;var n=e.eat&&r[e.eat.key](e.eat.coords.col,e.eat.coords.row);e.eat&&+n.coords.row===+o&&n.coords.col===t&&(i=!0,r.fieldState[e.eat.coords.col][e.eat.coords.row]={})})),this.lights=[],n=!1}return{stepTo:this.fieldState,coords:this.coords,isNotStep:n,isWasEat:i}}},{key:"render",value:function(){return{key:this.color,value:this.figures[this.color]}}}]),t}(),g=e(136),m=e(7277),k=e.p+"static/media/red_queen.0c64fd1eedf4c9989459.png",x=e.p+"static/media/black_queen.3e724f154bb78e420d7b.png",Z=function(t){(0,g.Z)(e,t);var o=(0,m.Z)(e);function e(t,r,i){var n;return(0,h.Z)(this,e),(n=o.call(this)).figures={Red:k,Black:x},n.lights=[],n.coords=r,n.color=t,n.fieldState=i,n}return(0,v.Z)(e,[{key:"makeLights",value:function(t,o){var e=this;function r(t,o,e){var i;t.value&&!t.value.key&&(this.fieldState[t.coords.col][t.coords.row].light="red");var n={col:t.coords.col,row:t.coords.row};if(t.value&&t.value.key&&t.value.key!==this.color&&this[t.key](t.coords.col,t.coords.row).value&&!this[t.key](t.coords.col,t.coords.row).value.key?(n.eat=t,o=!0):null!==t&&void 0!==t&&null!==(i=t.value)&&void 0!==i&&i.key&&this[t.key](t.coords.col,t.coords.row).value&&this[t.key](t.coords.col,t.coords.row).value.key&&(e=!0),this.lights.push(n),this[t.key](t.coords.col,t.coords.row).value){if(e)return;if(o)return void r.call(this,this[t.key](t.coords.col,t.coords.row),o,!0);r.call(this,this[t.key](t.coords.col,t.coords.row),o)}}[this.fromLeftBottom(t,o),this.fromLeftTop(t,o),this.fromRightTop(t,o),this.fromRightBottom(t,o)].map((function(t){var o,i=!1,n=e.fieldState[t.coords.col]&&(null===(o=e.fieldState[t.coords.col][t.coords.row])||void 0===o?void 0:o.key);e.fieldState[t.coords.col]&&e.fieldState[t.coords.col][t.coords.row]&&!n&&(e.fieldState[t.coords.col][t.coords.row].light="red");var a={col:t.coords.col,row:t.coords.row};t.value&&t.value.key&&t.value.key!==e.color&&e[t.key](t.coords.col,t.coords.row).value&&!e[t.key](t.coords.col,t.coords.row).value.key&&(a.eat=t,i=!0),e.lights.push(a),i?r.call(e,e[t.key](t.coords.col,t.coords.row),i,!0):r.call(e,e[t.key](t.coords.col,t.coords.row),i)}),this)}},{key:"lightAvalibleFields",value:function(t){var o=this,e=this.coords,r=e.col,i=e.row;if(this.forEachField((function(t){return delete t.light})),t)return this.hasEat(r,i),this.fieldState;this.makeLights(r,i);var n=this.lights.filter((function(t){return!!t.eat}));if(n.length){this.forEachField((function(t,e,r){n.find((function(t){return JSON.stringify(o[t.eat.key](t.eat.coords.col,t.eat.coords.row).coords)===JSON.stringify({col:e,row:+r})}))||delete t.light}))}return this.fieldState}},{key:"render",value:function(){return{key:this.color,value:this.figures[this.color]}}}]),e}(p),y=e(5967),b=e(3480),w=e(3366),S=e(7462),j=e(8182),R=e(4419),C=e(2065),B=e(9853),T=e(277),E=e(5513),O=e(5878),L=e(1217);function N(t){return(0,L.Z)("MuiButtonGroup",t)}var z=(0,O.Z)("MuiButtonGroup",["root","contained","outlined","text","disableElevation","disabled","fullWidth","vertical","grouped","groupedHorizontal","groupedVertical","groupedText","groupedTextHorizontal","groupedTextVertical","groupedTextPrimary","groupedTextSecondary","groupedOutlined","groupedOutlinedHorizontal","groupedOutlinedVertical","groupedOutlinedPrimary","groupedOutlinedSecondary","groupedContained","groupedContainedHorizontal","groupedContainedVertical","groupedContainedPrimary","groupedContainedSecondary"]),F=e(1656),P=e(184),I=["children","className","color","component","disabled","disableElevation","disableFocusRipple","disableRipple","fullWidth","orientation","size","variant"],W=(0,T.ZP)("div",{name:"MuiButtonGroup",slot:"Root",overridesResolver:function(t,o){var e=t.ownerState;return[(0,r.Z)({},"& .".concat(z.grouped),o.grouped),(0,r.Z)({},"& .".concat(z.grouped),o["grouped".concat((0,B.Z)(e.orientation))]),(0,r.Z)({},"& .".concat(z.grouped),o["grouped".concat((0,B.Z)(e.variant))]),(0,r.Z)({},"& .".concat(z.grouped),o["grouped".concat((0,B.Z)(e.variant)).concat((0,B.Z)(e.orientation))]),(0,r.Z)({},"& .".concat(z.grouped),o["grouped".concat((0,B.Z)(e.variant)).concat((0,B.Z)(e.color))]),o.root,o[e.variant],!0===e.disableElevation&&o.disableElevation,e.fullWidth&&o.fullWidth,"vertical"===e.orientation&&o.vertical]}})((function(t){var o=t.theme,e=t.ownerState;return(0,S.Z)({display:"inline-flex",borderRadius:(o.vars||o).shape.borderRadius},"contained"===e.variant&&{boxShadow:(o.vars||o).shadows[2]},e.disableElevation&&{boxShadow:"none"},e.fullWidth&&{width:"100%"},"vertical"===e.orientation&&{flexDirection:"column"},(0,r.Z)({},"& .".concat(z.grouped),(0,S.Z)({minWidth:40,"&:not(:first-of-type)":(0,S.Z)({},"horizontal"===e.orientation&&{borderTopLeftRadius:0,borderBottomLeftRadius:0},"vertical"===e.orientation&&{borderTopRightRadius:0,borderTopLeftRadius:0},"outlined"===e.variant&&"horizontal"===e.orientation&&{marginLeft:-1},"outlined"===e.variant&&"vertical"===e.orientation&&{marginTop:-1}),"&:not(:last-of-type)":(0,S.Z)({},"horizontal"===e.orientation&&{borderTopRightRadius:0,borderBottomRightRadius:0},"vertical"===e.orientation&&{borderBottomRightRadius:0,borderBottomLeftRadius:0},"text"===e.variant&&"horizontal"===e.orientation&&{borderRight:o.vars?"1px solid rgba(".concat(o.vars.palette.common.onBackgroundChannel," / 0.23)"):"1px solid ".concat("light"===o.palette.mode?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)")},"text"===e.variant&&"vertical"===e.orientation&&{borderBottom:o.vars?"1px solid rgba(".concat(o.vars.palette.common.onBackgroundChannel," / 0.23)"):"1px solid ".concat("light"===o.palette.mode?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)")},"text"===e.variant&&"inherit"!==e.color&&{borderColor:o.vars?"rgba(".concat(o.vars.palette[e.color].mainChannel," / 0.5)"):(0,C.Fq)(o.palette[e.color].main,.5)},"outlined"===e.variant&&"horizontal"===e.orientation&&{borderRightColor:"transparent"},"outlined"===e.variant&&"vertical"===e.orientation&&{borderBottomColor:"transparent"},"contained"===e.variant&&"horizontal"===e.orientation&&(0,r.Z)({borderRight:"1px solid ".concat((o.vars||o).palette.grey[400])},"&.".concat(z.disabled),{borderRight:"1px solid ".concat((o.vars||o).palette.action.disabled)}),"contained"===e.variant&&"vertical"===e.orientation&&(0,r.Z)({borderBottom:"1px solid ".concat((o.vars||o).palette.grey[400])},"&.".concat(z.disabled),{borderBottom:"1px solid ".concat((o.vars||o).palette.action.disabled)}),"contained"===e.variant&&"inherit"!==e.color&&{borderColor:(o.vars||o).palette[e.color].dark},{"&:hover":(0,S.Z)({},"outlined"===e.variant&&"horizontal"===e.orientation&&{borderRightColor:"currentColor"},"outlined"===e.variant&&"vertical"===e.orientation&&{borderBottomColor:"currentColor"})}),"&:hover":(0,S.Z)({},"contained"===e.variant&&{boxShadow:"none"})},"contained"===e.variant&&{boxShadow:"none"})))})),G=a.forwardRef((function(t,o){var e=(0,E.Z)({props:t,name:"MuiButtonGroup"}),r=e.children,i=e.className,n=e.color,c=void 0===n?"primary":n,l=e.component,s=void 0===l?"div":l,d=e.disabled,u=void 0!==d&&d,f=e.disableElevation,h=void 0!==f&&f,v=e.disableFocusRipple,p=void 0!==v&&v,g=e.disableRipple,m=void 0!==g&&g,k=e.fullWidth,x=void 0!==k&&k,Z=e.orientation,y=void 0===Z?"horizontal":Z,b=e.size,C=void 0===b?"medium":b,T=e.variant,O=void 0===T?"outlined":T,L=(0,w.Z)(e,I),z=(0,S.Z)({},e,{color:c,component:s,disabled:u,disableElevation:h,disableFocusRipple:p,disableRipple:m,fullWidth:x,orientation:y,size:C,variant:O}),G=function(t){var o=t.classes,e=t.color,r=t.disabled,i=t.disableElevation,n=t.fullWidth,a=t.orientation,c=t.variant,l={root:["root",c,"vertical"===a&&"vertical",n&&"fullWidth",i&&"disableElevation"],grouped:["grouped","grouped".concat((0,B.Z)(a)),"grouped".concat((0,B.Z)(c)),"grouped".concat((0,B.Z)(c)).concat((0,B.Z)(a)),"grouped".concat((0,B.Z)(c)).concat((0,B.Z)(e)),r&&"disabled"]};return(0,R.Z)(l,N,o)}(z),A=a.useMemo((function(){return{className:G.grouped,color:c,disabled:u,disableElevation:h,disableFocusRipple:p,disableRipple:m,fullWidth:x,size:C,variant:O}}),[c,u,h,p,m,x,C,O,G.grouped]);return(0,P.jsx)(W,(0,S.Z)({as:s,role:"group",className:(0,j.Z)(G.root,i),ref:o,ownerState:z},L,{children:(0,P.jsx)(F.Z.Provider,{value:A,children:r})}))})),A=e(1091),_=e(804),D=e(1573),J=e(7160);var M=function(t){var o=t.gameParams,e=t.setGameParams,r=(0,a.useState)("00:00"),c=(0,i.Z)(r,2),l=c[0],s=c[1],d=(0,a.useState)(o.timer.isOn),h=(0,i.Z)(d,2),v=h[0],p=h[1];return(0,a.useEffect)((function(){var t,o,r=l.match((0,_.Z)(/(^\d+):(\d+)/,{minutes:1,seconds:2}));if(null!==r&&void 0!==r&&null!==(t=r.groups)&&void 0!==t&&t.minutes&&null!==r&&void 0!==r&&null!==(o=r.groups)&&void 0!==o&&o.seconds){var i=6e4*+r.groups.minutes+1e3*+r.groups.seconds;e((function(t){return(0,n.Z)((0,n.Z)({},t),{},{timer:(0,n.Z)((0,n.Z)({},t.timer),{},{tick:i})})}))}}),[l]),(0,a.useEffect)((function(){e((function(t){return(0,n.Z)((0,n.Z)({},t),{},{timer:(0,n.Z)((0,n.Z)({},t.timer),{},{isOn:v})})}))}),[v]),(0,P.jsxs)(u.Z,{sx:{display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"column"},children:[(0,P.jsxs)(u.Z,{children:[(0,P.jsx)(f.Z,{children:"Timer On:"}),(0,P.jsx)(D.Z,{onChange:function(){return p((function(t){return!t}))},checked:v})]}),(0,P.jsx)(u.Z,{children:v?(0,P.jsx)(u.Z,{children:(0,P.jsx)(J.Z,{value:l,onChange:function(t){return s(t)}})}):null})]})};var H=e(7689),Q=e(319),V=(0,c.P0)(l._.Chees);var Y=function(){var t=(0,a.useState)(V),o=(0,i.Z)(t,2),e=o[0],l=o[1],h=(0,a.useState)(!1),v=(0,i.Z)(h,2),g=v[0],m=v[1],k=(0,a.useState)({Red:{key:d,count:0},Black:{key:s,count:0}}),x=(0,i.Z)(k,2),w=x[0],S=x[1],j=(0,a.useState)("Red"),R=(0,i.Z)(j,2),C=R[0],B=R[1],T=(0,a.useState)(null),E=(0,i.Z)(T,2),O=E[0],L=E[1],N=(0,a.useState)(0),z=(0,i.Z)(N,2),F=z[0],I=z[1],W=(0,a.useState)({side:{top:"Black",bottom:"Red"},firstStep:"Black",timer:{isOn:!1,tick:0}}),_=(0,i.Z)(W,2),D=_[0],J=_[1];(0,a.useEffect)((function(){g||I(D.timer.tick)}),[D.timer.tick]),(0,a.useEffect)((function(){B(D.firstStep);var t=function(t,o){var e=o.side;return(0,c.pY)(t,(function(o,r){var i,a=null;if(o.charCodeAt()<=67?(a=e.top,i=-1):o.charCodeAt()>=70&&(a=e.bottom,i=1),(o.charCodeAt()%2===0?r%2===0:r%2!==0)&&a){var c=new p({col:o,row:r},a,i,t);return(0,n.Z)((0,n.Z)({},c.render()),{},{figure:c})}return{}}))}(V,D);l((0,n.Z)({},t))}),[D.side,D.firstStep]),(0,a.useEffect)((function(){0===D.timer.tick&&(B((function(t){return"Black"===t?"Red":"Black"})),J((function(t){return(0,n.Z)((0,n.Z)({},t),{},{timer:(0,n.Z)((0,n.Z)({},t.timer),{},{tick:F})})})))}),[D.timer.tick]),(0,a.useEffect)((function(){J((function(t){return(0,n.Z)((0,n.Z)({},t),{},{timer:(0,n.Z)((0,n.Z)({},t.timer),{},{tick:F})})}))}),[C]);var Y=function(t){var o=t.setStartGame,e=t.navigate,r=t.gameParams,i=t.setGameParams;function a(t){var o=t.action;return(0,P.jsxs)(G,{children:[(0,P.jsx)(A.Z,{variant:"contained",onClick:function(){return o("Black")},children:"Black"}),(0,P.jsx)(A.Z,{variant:"contained",onClick:function(){return o("Red")},children:"Red"})]})}return{node:{virtual:!0},children:[{node:{text:"Start Game",action:function(){o((function(t){return!t}))}}},{node:{text:"Options"},children:[{node:{text:"Choose Top Side",control:(0,P.jsx)(a,{action:function(t){i((function(o){return(0,n.Z)((0,n.Z)({},o),{},{side:{top:t,bottom:"Black"===t?"Red":"Black"}})}))}})}},{node:{text:"Who first Step",control:(0,P.jsx)(a,{action:function(t){console.log(t),i((function(o){return(0,n.Z)((0,n.Z)({},o),{},{firstStep:t})}))}})}},{node:{text:"Timer",control:(0,P.jsx)(M,{setGameParams:i,gameParams:r})}}]},{node:{text:"Out",action:function(){e("/games")}},children:""}]}}({setStartGame:m,navigate:(0,H.s0)(),gameParams:D,setGameParams:J});function q(t,o,r,i){if(t&&e[o][r].key){var a=C===t.getColor;if(L(t),!a)return;var c=t.lightAvalibleFields(i);l((0,n.Z)({},c))}}(0,a.useEffect)((function(){var t=Object.values(w).find((function(t){return 12===t.count}));t&&console.log("".concat(t.key," was win"))}),[w]),(0,a.useEffect)((function(){if(g&&D.timer.isOn){var t=setInterval((function(){J((function(t){return t.timer.tick<0?(B((function(t){return"Black"===t?"Red":"Black"})),t):(0,n.Z)((0,n.Z)({},t),{},{timer:(0,n.Z)((0,n.Z)({},t.timer),{},{tick:t.timer.tick-1e3})})}))}),1e3);return function(){clearInterval(t)}}}),[C,g]);var U=(0,Q.TD)({duration:D.timer.tick,formatter:function(t){var o=t.seconds,e=t.minutes;return"".concat(e,": ").concat(o%60)}});return(0,P.jsxs)(u.Z,{children:[(0,P.jsxs)(y.Z,{justifyContent:"right",width:"30%",children:[D.timer.isOn?(0,P.jsx)(u.Z,{children:(0,P.jsx)(f.Z,{children:U})}):null,(0,P.jsxs)(u.Z,{sx:{display:"flex",gap:"10px",alignItems:"center",justifyContent:"center"},children:[(0,P.jsx)(f.Z,{children:w.Red.count}),(0,P.jsx)("img",{height:"30px",width:"30px",src:w.Red.key,alt:"Red"}),":",(0,P.jsx)(f.Z,{children:w.Black.count}),(0,P.jsx)("img",{height:"30px",width:"30px",src:w.Black.key,alt:"Black"})]}),(0,P.jsxs)(u.Z,{sx:{display:"flex",gap:"10px",alignItems:"center",justifyContent:"center"},children:[(0,P.jsx)(f.Z,{children:"Now turn is:"}),(0,P.jsx)("img",{height:"30px",width:"30px",src:w[C].key,alt:C})]})]}),g?null:(0,P.jsx)(b.Z,{menuTree:Y}),(0,c.H9)(e,(function(t,o,e,r,i){return(0,P.jsxs)(P.Fragment,{children:[(0,P.jsxs)(u.Z,{sx:{display:"flex",justifyContent:"center"},children:[o,t]},i),(0,P.jsx)(u.Z,{sx:{display:"flex",justifyContent:"center"},children:e===r.length-1&&i.map((function(t){return(0,P.jsx)(u.Z,{sx:{width:"60px",alignContent:"center",background:"white",display:"flex",justifyContent:"center",alignItems:"center"},children:t})}))},"".concat(e,"_").concat(i))]})}),(function(t,o,i,a,c){var s=(o.charCodeAt()%2===0?i%2===0:i%2!==0)?"black":"";return(0,P.jsx)(u.Z,{onClick:function(){return function(t,o){if(O&&!e[t][o].key){var i=O.stepTo(t,o,O),a=i.stepTo,c=i.isWasEat,s=i.changeChoice,d=i.coords,u=i.isNotStep;if(s||u)return;if(a[d.col][d.row].updateToQueen){var f=a[d.col][d.row].figure;delete a[d.col][d.row].updateToQueen;var h=new Z(f.color,f.coords,f.fieldState);a[d.col][d.row]=h.render(),a[d.col][d.row].figure=h}if("boolean"!==typeof c||c)return S((function(t){return(0,n.Z)((0,n.Z)({},t),{},(0,r.Z)({},O.color,(0,n.Z)((0,n.Z)({},t[O.color]),{},{count:t[O.color].count++})))})),q(a[d.col][d.row].figure,d.col,d.row,!0),void(a[d.col][d.row].figure.lights&&!a[d.col][d.row].figure.lights.length&&B("Red"===C?"Black":"Red"));var v="Red"===C?"Black":"Red";l(a),B(v),L(null)}}(o,i)},sx:{backgroundColor:t.light?"".concat(t.light," !important"):"".concat(s," !important"),border:"2px solid black",width:"60px",height:"60px",alignContent:"center",background:"white",display:"flex",justifyContent:"center",alignItems:"center"},children:t.key?(0,P.jsx)("img",{onClick:function(){return q(t.figure,o,i,!1)},width:"50px",height:"50px",src:t.value,alt:t.key}):null},"row_".concat(i,"_").concat(a))}))]})}},3480:function(t,o,e){var r=e(9439),i=e(2791),n=e(9276),a=e(2017),c=e(5629),l=e(1091),s=e(6132),d=e(4346),u=e(4565),f=e(9978),h=e(6761),v=e(184);o.Z=function(t){var o=t.menuTree,e=(0,i.useState)(o.children),p=(0,r.Z)(e,2),g=p[0],m=p[1],k=(0,i.useMemo)((function(){return(0,h.UT)(o,(function(t,o){}))}),[g]);function x(t){t.children?m(t.children):t.node.action&&(console.log("action"),t.node.action())}return(0,v.jsx)(n.Z,{children:(0,v.jsxs)(c.Z,{sx:{backdropFilter:"blur(5px)",width:"100%",height:"150%",background:"rgba(0, 0, 0, .5)",position:"absolute",gap:"30px",bottom:"100px",color:"white",margin:"auto auto",flexDirection:"column",alignItems:"center",display:"flex",justifyContent:"center",top:0,left:0,right:0},children:[(0,v.jsx)(l.Z,{variant:"contained",sx:{zIndex:2e3,position:"fixed",left:"4%",top:"28%",backgroundColor:"#ff4655",width:"150px",height:"66px"},onClick:function(){var t=g[0].node.id.replace(/-\d+-\d+$/,""),o=(0,h.Qt)({treeNode:k,id:t,nodePath:"node/id"});o&&o.children.length&&t!==g[0]&&m(o.children)},children:(0,v.jsx)(a.Z,{})}),g.map((function(t){return t.node.control?(0,v.jsxs)(s.ZP,{sx:{display:"flex",flexDirection:"column",background:"transparent",width:"90%",height:"max-content",overflowY:"hidden",overflowX:"hidden",border:"none",position:"relative","&:after":{content:'""',position:"absolute",width:"1158%",height:"1000%",top:"20px; right: -500%",background:"#F8F8F8",color:"",transformOrigin:"48.3% 0",transform:"rotate(-41deg)",zIndex:-1},"&:hover":{animation:"gameMenu 2s"}},component:"button",onClick:function(){return x(t)},children:[(0,v.jsx)(d.Z,{primary:(0,v.jsx)(u.Z,{variant:"h4",children:t.node.text})}),t.node.control]},t.node.id):(0,v.jsxs)(f.Z,{sx:{display:"flex",flexDirection:"column",flexGrow:"0"},component:"button",onClick:function(){return x(t)},children:[(0,v.jsx)(d.Z,{primary:(0,v.jsx)(u.Z,{variant:"h4",children:t.node.text})}),(0,v.jsx)(n.Z,{children:t.node.control})]},t.node.id)}))]})})}},6379:function(t,o,e){function r(t,o,e){return Object.keys(t).map((function(r,i,n){return o(Object.keys(t[r]).map((function(o,a){return t[r][o],e(t[r][o],r,o,i,n)})),r,i,n,Object.keys(t[r]))}))}function i(t,o){return console.log("child"),Object.keys(t).forEach((function(e){Object.keys(t[e]).forEach((function(r){t[e][r]=o(e,r)}))})),t}function n(t,o){i(t,(function(e,r){return o(e,r),t[e][r]}))}function a(t){for(var o=65,e={chees:{cols:8,rows:8},tictactoe:{cols:3,rows:3}},r="string"===typeof t?e[t]:t,i={},n=0;n<r.cols;n++)i[String.fromCharCode(o)]=new Array(r.rows).fill("").reduce((function(t,o,e){return t[e]={},t}),{}),o++;return i}function c(t){i(t,(function(t){return{}}))}e.d(o,{GD:function(){return c},H9:function(){return r},JY:function(){return n},P0:function(){return a},pY:function(){return i}})},8497:function(t,o,e){var r;e.d(o,{_:function(){return r}}),function(t){t.TicTacToe="tictactoe",t.Chees="chees",t.SeaBattle="seabattle"}(r||(r={}))}}]);
//# sourceMappingURL=781.3070b2ca.chunk.js.map